<html>
  <head>
    <meta charset="UTF-8" />
    <title>Im-Plant Smart Gardening System</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: 'Roboto', sans-serif;
        background-color: #f5f5f5;
        color: #222;
        overflow: hidden;
      }

      section {
        display: none;
        height: 100vh;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        text-align: center;
        opacity: 0;
        transition: opacity 1s ease;
      }

      section.active {
        display: flex;
      }

      section.fade-in {
        opacity: 1;
      }

      .welcome h2 {
        font-weight: 400;
        font-size: 28px;
        margin: 0;
      }

      .welcome h1 {
        font-weight: 700;
        font-size: 96px;
        margin: 10px 0 0 0;
      }

      button {
        font-size: 18px;
        padding: 12px 20px;
        margin: 10px;
        border: none;
        border-radius: 6px;
        background: #4CAF50;
        color: white;
        cursor: pointer;
      }

      button:hover {
        background: #43a047;
      }

      .title {
        font-size: 40px;
        font-weight: 700;
        margin-bottom: 30px;
      }

      .input-section {
        margin-top: 20px;
      }

      select, input {
        padding: 10px;
        font-size: 16px;
        margin-top: 10px;
      }

      .data p {
        font-size: 20px;
        margin: 5px 0;
      }

      .back-btn {
        background: #757575;
      }

      .back-btn:hover {
        background: #616161;
      }
    </style>
  </head>
  <body>
    <!-- Welcome -->
    <section id="welcome" class="welcome active">
      <h2>Welcome to</h2>
      <h1>Im-Plant</h1>
    </section>

    <!-- Home -->
    <section id="home">
      <div class="title">Smart Gardening System</div>
      <div>
        <button id="goSetup">Go to Plant Setup</button>
        <button id="goHealth" disabled>Check Plant Health</button>
      </div>
    </section>

    <!-- Plant Setup -->
    <section id="setup">
      <div class="title">Plant Selection or Suggestion</div>
      <div>
        <button id="suggestPlant">Suggest a Plant</button>
        <button id="existingPlant">I Already Planted One</button>
      </div>

      <div id="suggestSection" class="input-section" style="display:none;">
        <p>Best plant for your pot: <span id="suggestResult">Tomato</span></p>
        <button id="confirmSuggest">Confirm Plant</button>
      </div>

      <div id="existingSection" class="input-section" style="display:none;">
        <select id="plantDropdown">
          <option>Tomato</option>
          <option>Mint</option>
          <option>Basil</option>
          <option>Chili</option>
        </select>
        <input id="customPlant" placeholder="Custom Plant Name" />
        <button id="confirmExisting">Confirm Plant</button>
      </div>

      <button class="back-btn" id="backToHome1">Back</button>
    </section>

    <!-- Plant Health -->
    <section id="health">
      <div class="title" id="plantTitle">Monitoring:</div>
      <div class="data">
        <p>üå°Ô∏è Temperature: <span id="temp">--</span> ¬∞C</p>
        <p>üíß Humidity: <span id="hum">--</span> %</p>
        <p>‚òÄÔ∏è Light: <span id="light">--</span> lx</p>
        <p>üå± Soil Moisture: <span id="soil">--</span> %</p>
        <p id="healthMsg">Ideal conditions ‚Äî keep it up!</p>
      </div>
      <div>
        <button id="waterBtn">Water Now üí¶</button>
        <button id="autoBtn">Auto Mode: OFF</button>
      </div>
      <div>
        <button class="back-btn" id="backToHome2">Back</button>
        <button id="clearPlant">Clear Plant Data</button>
      </div>
    </section>

    <script>
      // Page references
      const pages = {
        welcome: document.getElementById("welcome"),
        home: document.getElementById("home"),
        setup: document.getElementById("setup"),
        health: document.getElementById("health"),
      };

      const goSetup = document.getElementById("goSetup");
      const goHealth = document.getElementById("goHealth");
      const backToHome1 = document.getElementById("backToHome1");
      const backToHome2 = document.getElementById("backToHome2");

      const suggestPlant = document.getElementById("suggestPlant");
      const existingPlant = document.getElementById("existingPlant");
      const suggestSection = document.getElementById("suggestSection");
      const existingSection = document.getElementById("existingSection");
      const confirmSuggest = document.getElementById("confirmSuggest");
      const confirmExisting = document.getElementById("confirmExisting");

      const plantTitle = document.getElementById("plantTitle");
      const clearPlant = document.getElementById("clearPlant");

      // Simulated data
      let selectedPlant = localStorage.getItem("plantName") || null;
      updateButtons();

      function updateButtons() {
        goHealth.disabled = !selectedPlant;
      }

      // Fade handling
      window.addEventListener("load", () => {
        setTimeout(() => {
          pages.welcome.classList.add("fade-in");
        }, 100);
      });

      ["wheel", "click", "keydown", "touchstart"].forEach(evt => {
        window.addEventListener(evt, () => {
          if (pages.welcome.classList.contains("active")) {
            pages.welcome.classList.remove("fade-in");
            pages.welcome.classList.add("fade-out");
            setTimeout(() => switchPage("home"), 1000);
          }
        }, { once: true });
      });

      function switchPage(target) {
        Object.values(pages).forEach(p => {
          p.classList.remove("active", "fade-in");
          p.style.display = "none";
        });
        const next = pages[target];
        next.style.display = "flex";
        setTimeout(() => next.classList.add("active", "fade-in"), 10);
        window.scrollTo(0, 0);
      }

      // Navigation
      goSetup.onclick = () => switchPage("setup");
      backToHome1.onclick = () => switchPage("home");
      backToHome2.onclick = () => switchPage("home");
      goHealth.onclick = () => switchPage("health");

      // Suggest Plant flow
      suggestPlant.onclick = () => {
        suggestSection.style.display = "block";
        existingSection.style.display = "none";
      };

      existingPlant.onclick = () => {
        existingSection.style.display = "block";
        suggestSection.style.display = "none";
      };

      confirmSuggest.onclick = () => {
        selectedPlant = document.getElementById("suggestResult").textContent;
        localStorage.setItem("plantName", selectedPlant);
        updateButtons();
        switchPage("health");
        showPlant();
      };

      confirmExisting.onclick = () => {
        const dropdown = document.getElementById("plantDropdown").value;
        const custom = document.getElementById("customPlant").value.trim();
        selectedPlant = custom || dropdown;
        localStorage.setItem("plantName", selectedPlant);
        updateButtons();
        switchPage("health");
        showPlant();
      };

      function showPlant() {
        plantTitle.textContent = "Monitoring: " + selectedPlant;
      }

      clearPlant.onclick = () => {
        localStorage.removeItem("plantName");
        selectedPlant = null;
        updateButtons();
        switchPage("home");
      };

      // Demo live update placeholders
      setInterval(() => {
        if (pages.health.classList.contains("active")) {
          document.getElementById("temp").textContent = (25 + Math.random() * 3).toFixed(1);
          document.getElementById("hum").textContent = (60 + Math.random() * 10).toFixed(0);
          document.getElementById("light").textContent = (500 + Math.random() * 200).toFixed(0);
          document.getElementById("soil").textContent = (40 + Math.random() * 10).toFixed(0);
        }
      }, 2000);
    </script>
  </body>
</html>
