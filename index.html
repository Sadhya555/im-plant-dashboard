<html>
  <head>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
      body {
        margin: 0;
        font-family: 'Roboto', sans-serif;
        overflow: hidden; /* prevent scroll */
        background-color: #f5f5f5;
        color: #222;
      }

      section {
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        opacity: 0;
        transition: opacity 1s ease;
      }

      .fade-in {
        opacity: 1;
      }

      .fade-out {
        opacity: 0;
        pointer-events: none;
      }

      .welcome h2 {
        font-weight: 400;
        font-size: 28px;
        margin: 0;
      }

      .welcome h1 {
        font-weight: 700;
        font-size: 96px;
        margin: 10px 0 0 0;
      }

      .dashboard {
        display: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .dashboard.show {
        display: flex;
        animation: fadeIn 1s ease forwards;
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      .dashboard h1 {
        font-size: 60px;
        font-weight: 700;
        margin-bottom: 30px;
      }

      .dashboard p {
        font-size: 22px;
        font-weight: 400;
        margin: 10px 0;
      }
    </style>
  </head>
  <body>
    <!-- Intro -->
    <section class="welcome" id="welcome">
      <h2>Welcome to</h2>
      <h1>Im-Plant</h1>
    </section>

    <!-- Dashboard -->
    <section class="dashboard" id="dashboard">
      <h1>Smart Garden Dashboard</h1>
      <p>Temperature: <span id="temp"></span> Â°C</p>
      <p>Humidity: <span id="hum"></span> %</p>
      <p>Soil: <span id="soil"></span></p>
      <p>Light: <span id="light"></span> lx</p>
    </section>

    <script>
      // Firebase setup
      const firebaseConfig = {
        apiKey: "AIzaSyA2lx9dz9n_U3yjGzedewfYx_zHRp-qKRY",
        databaseURL: "https://im-plant-bracu-default-rtdb.asia-southeast1.firebasedatabase.app/"
      };
      const app = firebase.initializeApp(firebaseConfig);
      const db = firebase.database();

      db.ref("/garden").on("value", snapshot => {
        const data = snapshot.val();
        document.getElementById("temp").textContent = data.temperature;
        document.getElementById("hum").textContent = data.humidity;
        document.getElementById("soil").textContent = data.soil;
        document.getElementById("light").textContent = data.light;
      });

      // Elements
      const welcome = document.getElementById("welcome");
      const dashboard = document.getElementById("dashboard");

      // Fade in on load
      window.addEventListener("load", () => {
        setTimeout(() => welcome.classList.add("fade-in"), 100);
      });

      // Trigger fade out on any user input
      function transitionToDashboard() {
        if (!welcome.classList.contains("fade-out")) {
          welcome.classList.add("fade-out");
          setTimeout(() => {
            welcome.style.display = "none";
            dashboard.classList.add("show");
          }, 1500);
        }
      }

      // Listen for user actions
      ["wheel", "touchstart", "keydown", "click"].forEach(evt =>
        window.addEventListener(evt, transitionToDashboard, { once: true })
      );
    </script>
  </body>
</html>
