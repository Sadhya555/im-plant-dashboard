<html>
  <head>
    <meta charset="UTF-8" />
    <title>Im-Plant Smart Gardening System</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: 'Roboto', sans-serif;
        background-color: #f5f5f5;
        color: #222;
        overflow: hidden;
      }

      section {
        display: none;
        height: 100vh;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        text-align: center;
        opacity: 0;
        transition: opacity 1s ease;
      }

      section.active {
        display: flex;
      }

      section.fade-in {
        opacity: 1;
      }

      .welcome h2 {
        font-weight: 400;
        font-size: 28px;
        margin: 0;
      }

      .welcome h1 {
        font-weight: 700;
        font-size: 96px;
        margin: 10px 0 0 0;
      }

      .title {
        font-size: 40px;
        font-weight: 700;
        margin-bottom: 30px;
      }

      button {
        font-size: 18px;
        padding: 12px 20px;
        margin: 10px;
        border: none;
        border-radius: 6px;
        background: #4CAF50;
        color: white;
        cursor: pointer;
      }

      button:hover {
        background: #43a047;
      }

      button:disabled {
        background: #9e9e9e;
        cursor: not-allowed;
      }

      .back-btn {
        background: #757575;
      }

      .back-btn:hover {
        background: #616161;
      }

      select, input {
        padding: 10px;
        font-size: 16px;
        margin-top: 10px;
      }

      .data p {
        font-size: 20px;
        margin: 5px 0;
      }
    </style>
  </head>
  <body>
    <!-- Welcome -->
    <section id="welcome" class="welcome active">
      <h2>Welcome to</h2>
      <h1>Im-Plant</h1>
    </section>

    <!-- Home -->
    <section id="home">
      <div class="title">Smart Gardening System</div>
      <button id="plantSetupBtn">Plant Setup</button>
      <button id="plantHealthBtn">Plant Health</button>
      <button id="clearDataBtn">Clear Data</button>
    </section>

    <!-- Plant Setup -->
    <section id="setup">
      <div class="title">Plant Setup</div>
      <div class="data">
        <p>üå°Ô∏è Temperature: <span id="temp1">26</span> ¬∞C</p>
        <p>üíß Humidity: <span id="hum1">70</span> %</p>
        <p>‚òÄÔ∏è Light: <span id="light1">650</span> lx</p>
        <p>üå± Soil Moisture: <span id="soil1">45</span> %</p>
      </div>
      <button id="suggestBtn">Suggest a Plant</button>
      <button id="alreadyBtn">I Already Planted One</button>
      <button class="back-btn" id="setupBack">Back</button>

      <!-- Suggest Section -->
      <div id="suggestSection" style="display:none;">
        <p>Best plant for your pot: <b><span id="suggestResult">Tomato</span></b></p>
        <button id="confirmSuggest">Confirm Plant</button>
        <button class="back-btn" id="backFromSuggest">Back</button>
      </div>

      <!-- Existing Section -->
      <div id="existingSection" style="display:none;">
        <select id="plantDropdown">
          <option>Tomato</option>
          <option>Mint</option>
          <option>Basil</option>
          <option>Chili</option>
        </select>
        <input id="customPlant" placeholder="Custom Plant Name" />
        <button id="confirmExisting">Confirm Plant</button>
        <button class="back-btn" id="backFromExisting">Back</button>
      </div>
    </section>

    <!-- Plant Monitor -->
    <section id="monitor">
      <div class="title" id="monitorTitle">Monitoring:</div>
      <div class="data">
        <p>üå°Ô∏è Temperature: <span id="temp2">--</span> ¬∞C</p>
        <p>üíß Humidity: <span id="hum2">--</span> %</p>
        <p>‚òÄÔ∏è Light: <span id="light2">--</span> lx</p>
        <p>üå± Soil Moisture: <span id="soil2">--</span> %</p>
        <p id="healthMsg">Ideal conditions ‚Äî keep it up!</p>
      </div>
      <button id="waterBtn">Water Now üí¶</button>
      <button id="autoBtn">Auto Mode: OFF</button>
      <button id="clearPlantBtn">Clear Data</button>
      <button class="back-btn" id="monitorBack">Back</button>
    </section>

    <script>
      // Elements
      const pages = {
        welcome: document.getElementById("welcome"),
        home: document.getElementById("home"),
        setup: document.getElementById("setup"),
        monitor: document.getElementById("monitor")
      };

      const plantSetupBtn = document.getElementById("plantSetupBtn");
      const plantHealthBtn = document.getElementById("plantHealthBtn");
      const clearDataBtn = document.getElementById("clearDataBtn");
      const suggestBtn = document.getElementById("suggestBtn");
      const alreadyBtn = document.getElementById("alreadyBtn");
      const setupBack = document.getElementById("setupBack");
      const suggestSection = document.getElementById("suggestSection");
      const existingSection = document.getElementById("existingSection");
      const confirmSuggest = document.getElementById("confirmSuggest");
      const confirmExisting = document.getElementById("confirmExisting");
      const backFromSuggest = document.getElementById("backFromSuggest");
      const backFromExisting = document.getElementById("backFromExisting");
      const monitorTitle = document.getElementById("monitorTitle");
      const monitorBack = document.getElementById("monitorBack");
      const clearPlantBtn = document.getElementById("clearPlantBtn");

      // State
      let selectedPlant = localStorage.getItem("plantName") || null;
      updateHomeButtons();

      // Fade in intro
      window.addEventListener("load", () => {
        setTimeout(() => {
          pages.welcome.classList.add("fade-in");
        }, 100);
      });

      ["wheel", "click", "keydown", "touchstart"].forEach(evt => {
        window.addEventListener(evt, () => {
          if (pages.welcome.classList.contains("active")) {
            pages.welcome.classList.remove("fade-in");
            pages.welcome.classList.add("fade-out");
            setTimeout(() => switchPage("home"), 1000);
          }
        }, { once: true });
      });

      // Switch pages
      function switchPage(target) {
        Object.values(pages).forEach(p => {
          p.classList.remove("active", "fade-in");
          p.style.display = "none";
        });
        const next = pages[target];
        next.style.display = "flex";
        setTimeout(() => next.classList.add("active", "fade-in"), 10);
        window.scrollTo(0, 0);
      }

      // Button logic
      plantSetupBtn.onclick = () => {
        switchPage("setup");
        suggestSection.style.display = "none";
        existingSection.style.display = "none";
      };

      setupBack.onclick = () => switchPage("home");
      backFromSuggest.onclick = () => { suggestSection.style.display = "none"; };
      backFromExisting.onclick = () => { existingSection.style.display = "none"; };

      suggestBtn.onclick = () => {
        suggestSection.style.display = "block";
        existingSection.style.display = "none";
      };

      alreadyBtn.onclick = () => {
        existingSection.style.display = "block";
        suggestSection.style.display = "none";
      };

      confirmSuggest.onclick = () => {
        selectedPlant = document.getElementById("suggestResult").textContent;
        localStorage.setItem("plantName", selectedPlant);
        switchPage("monitor");
        showPlantMonitor();
      };

      confirmExisting.onclick = () => {
        const dropdown = document.getElementById("plantDropdown").value;
        const custom = document.getElementById("customPlant").value.trim();
        selectedPlant = custom || dropdown;
        localStorage.setItem("plantName", selectedPlant);
        switchPage("monitor");
        showPlantMonitor();
      };

      clearDataBtn.onclick = () => {
        localStorage.removeItem("plantName");
        selectedPlant = null;
        updateHomeButtons();
        alert("All data cleared.");
      };

      plantHealthBtn.onclick = () => {
        if (selectedPlant) {
          switchPage("monitor");
          showPlantMonitor();
        } else {
          alert("No plant data!");
        }
      };

      clearPlantBtn.onclick = () => {
        localStorage.removeItem("plantName");
        selectedPlant = null;
        updateHomeButtons();
        switchPage("home");
      };

      monitorBack.onclick = () => switchPage("home");

      function showPlantMonitor() {
        monitorTitle.textContent = "Monitoring: " + selectedPlant;
        updateHomeButtons();
      }

      function updateHomeButtons() {
        plantHealthBtn.disabled = !selectedPlant;
      }

      // Demo sensor values
      setInterval(() => {
        if (pages.monitor.classList.contains("active")) {
          document.getElementById("temp2").textContent = (25 + Math.random() * 3).toFixed(1);
          document.getElementById("hum2").textContent = (60 + Math.random() * 10).toFixed(0);
          document.getElementById("light2").textContent = (500 + Math.random() * 200).toFixed(0);
          document.getElementById("soil2").textContent = (40 + Math.random() * 10).toFixed(0);
        }
      }, 2000);
    </script>
  </body>
</html>
